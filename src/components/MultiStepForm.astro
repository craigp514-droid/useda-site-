---
// Multi-step lead capture form with project type segmentation
---

<div id="multi-step-form" class="bg-white rounded-2xl shadow-xl p-8">

  <!-- Step 1: Project Type Selection -->
  <div id="step-1" class="step">
    <h3 class="text-xl font-semibold text-navy-900 mb-2">What type of project are you planning?</h3>
    <p class="text-gray-600 mb-6">Select the option that best describes your expansion.</p>

    <div class="grid grid-cols-2 gap-3">
      <!-- Manufacturing -->
      <button
        type="button"
        data-project-type="manufacturing"
        class="project-type-btn relative h-36 rounded-xl overflow-hidden group"
      >
        <img
          src="/images/Modern_assembly_line_in_action.png"
          alt="Manufacturing facility"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-4 text-left">
          <h4 class="font-semibold text-white text-sm sm:text-base">Manufacturing</h4>
          <p class="text-xs text-gray-200 hidden sm:block">Production facility or plant</p>
        </div>
      </button>

      <!-- Distribution -->
      <button
        type="button"
        data-project-type="distribution"
        class="project-type-btn relative h-36 rounded-xl overflow-hidden group"
      >
        <img
          src="/images/ChatGPT_Image_Jan_29__2026__10_20_17_AM.png"
          alt="Distribution center"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-4 text-left">
          <h4 class="font-semibold text-white text-sm sm:text-base">Distribution</h4>
          <p class="text-xs text-gray-200 hidden sm:block">Warehouse or fulfillment</p>
        </div>
      </button>

      <!-- HQ / Back Office -->
      <button
        type="button"
        data-project-type="headquarters"
        class="project-type-btn relative h-36 rounded-xl overflow-hidden group"
      >
        <img
          src="/images/ChatGPT_Image_Jan_29__2026__10_31_37_AM.png"
          alt="Corporate headquarters"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-4 text-left">
          <h4 class="font-semibold text-white text-sm sm:text-base">Headquarters</h4>
          <p class="text-xs text-gray-200 hidden sm:block">Office or shared services</p>
        </div>
      </button>

      <!-- Retail -->
      <button
        type="button"
        data-project-type="retail"
        class="project-type-btn relative h-36 rounded-xl overflow-hidden group"
      >
        <img
          src="/images/ChatGPT_Image_Jan_29__2026__10_31_29_AM.png"
          alt="Retail storefront"
          class="absolute inset-0 w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"></div>
        <div class="absolute bottom-0 left-0 right-0 p-4 text-left">
          <h4 class="font-semibold text-white text-sm sm:text-base">Retail</h4>
          <p class="text-xs text-gray-200 hidden sm:block">Store or showroom</p>
        </div>
      </button>
    </div>
  </div>

  <!-- Step 2: Contact & Project Details Form -->
  <div id="step-2" class="step hidden">
    <button type="button" id="back-btn" class="text-navy-600 hover:text-navy-800 mb-4 flex items-center text-sm font-medium">
      <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Back
    </button>

    <div id="form-header" class="mb-6">
      <h3 class="text-xl font-semibold text-navy-900 mb-1">
        <span id="project-type-label">Manufacturing</span> Expansion
      </h3>
      <p class="text-gray-600">Tell us about your project and we'll send your customized checklist.</p>
    </div>

    <form
      name="expansion-inquiry"
      method="POST"
      data-netlify="true"
      netlify-honeypot="bot-field"
      action="/thank-you"
      class="space-y-4"
    >
      <input type="hidden" name="form-name" value="expansion-inquiry" />
      <input type="hidden" name="project-type" id="project-type-input" value="" />
      <p class="hidden"><label>Don't fill this out: <input name="bot-field" /></label></p>

      <!-- Company Name -->
      <div>
        <label for="company" class="block text-sm font-medium text-gray-700 mb-1">
          Company Name <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="company"
          name="company"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="Your company name"
        />
      </div>

      <!-- Contact Name -->
      <div>
        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
          Your Name <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="Your full name"
        />
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
          Email <span class="text-red-500">*</span>
        </label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="you@company.com"
        />
      </div>

      <!-- Phone -->
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">
          Phone <span class="text-gray-400">(optional)</span>
        </label>
        <input
          type="tel"
          id="phone"
          name="phone"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="+1 (555) 000-0000"
        />
      </div>

      <!-- Current Location -->
      <div>
        <label for="location" class="block text-sm font-medium text-gray-700 mb-1">
          Current Location <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="location"
          name="location"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="Country or US State"
        />
      </div>

      <!-- Industry -->
      <div>
        <label for="industry" class="block text-sm font-medium text-gray-700 mb-1">
          Industry / Sector <span class="text-red-500">*</span>
        </label>
        <input
          type="text"
          id="industry"
          name="industry"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
          placeholder="e.g., Automotive, Technology, Consumer Goods"
        />
      </div>

      <!-- Project-specific fields - Manufacturing -->
      <div id="manufacturing-fields" class="project-fields space-y-4 hidden">
        <div>
          <label for="estimated-jobs" class="block text-sm font-medium text-gray-700 mb-1">
            Estimated Jobs to Create <span class="text-red-500">*</span>
          </label>
          <select
            id="estimated-jobs"
            name="estimated-jobs"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select range</option>
            <option value="1-25">1-25 employees</option>
            <option value="26-50">26-50 employees</option>
            <option value="51-100">51-100 employees</option>
            <option value="101-250">101-250 employees</option>
            <option value="251-500">251-500 employees</option>
            <option value="500+">500+ employees</option>
          </select>
        </div>
        <div>
          <label for="capital-investment" class="block text-sm font-medium text-gray-700 mb-1">
            Estimated Capital Investment <span class="text-gray-400">(optional)</span>
          </label>
          <select
            id="capital-investment"
            name="capital-investment"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select range</option>
            <option value="Under $1M">Under $1 million</option>
            <option value="$1M-$5M">$1-5 million</option>
            <option value="$5M-$25M">$5-25 million</option>
            <option value="$25M-$100M">$25-100 million</option>
            <option value="$100M+">Over $100 million</option>
          </select>
        </div>
      </div>

      <!-- Project-specific fields - Distribution -->
      <div id="distribution-fields" class="project-fields space-y-4 hidden">
        <div>
          <label for="square-footage" class="block text-sm font-medium text-gray-700 mb-1">
            Estimated Square Footage Needed <span class="text-red-500">*</span>
          </label>
          <select
            id="square-footage"
            name="square-footage"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select range</option>
            <option value="Under 50,000 SF">Under 50,000 SF</option>
            <option value="50,000-100,000 SF">50,000-100,000 SF</option>
            <option value="100,000-250,000 SF">100,000-250,000 SF</option>
            <option value="250,000-500,000 SF">250,000-500,000 SF</option>
            <option value="500,000+ SF">500,000+ SF</option>
          </select>
        </div>
        <div>
          <label for="distribution-type" class="block text-sm font-medium text-gray-700 mb-1">
            Primary Function <span class="text-red-500">*</span>
          </label>
          <select
            id="distribution-type"
            name="distribution-type"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select type</option>
            <option value="E-commerce fulfillment">E-commerce fulfillment</option>
            <option value="Regional distribution">Regional distribution</option>
            <option value="National distribution">National distribution</option>
            <option value="Import/Export hub">Import/Export hub</option>
            <option value="Last-mile delivery">Last-mile delivery</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>

      <!-- Project-specific fields - HQ/Back Office -->
      <div id="headquarters-fields" class="project-fields space-y-4 hidden">
        <div>
          <label for="office-headcount" class="block text-sm font-medium text-gray-700 mb-1">
            Estimated Headcount <span class="text-red-500">*</span>
          </label>
          <select
            id="office-headcount"
            name="office-headcount"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select range</option>
            <option value="1-25">1-25 employees</option>
            <option value="26-50">26-50 employees</option>
            <option value="51-100">51-100 employees</option>
            <option value="101-250">101-250 employees</option>
            <option value="251-500">251-500 employees</option>
            <option value="500+">500+ employees</option>
          </select>
        </div>
        <div>
          <label for="office-type" class="block text-sm font-medium text-gray-700 mb-1">
            Office Type <span class="text-red-500">*</span>
          </label>
          <select
            id="office-type"
            name="office-type"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select type</option>
            <option value="Corporate headquarters">Corporate headquarters</option>
            <option value="Regional headquarters">Regional headquarters</option>
            <option value="Shared services center">Shared services center</option>
            <option value="Tech/Engineering hub">Tech/Engineering hub</option>
            <option value="Customer service center">Customer service center</option>
            <option value="Other">Other</option>
          </select>
        </div>
      </div>

      <!-- Project-specific fields - Retail -->
      <div id="retail-fields" class="project-fields space-y-4 hidden">
        <div>
          <label for="store-count" class="block text-sm font-medium text-gray-700 mb-1">
            Number of Locations Planned <span class="text-red-500">*</span>
          </label>
          <select
            id="store-count"
            name="store-count"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select range</option>
            <option value="1 (Flagship/Test)">1 location (Flagship or test store)</option>
            <option value="2-5">2-5 locations</option>
            <option value="6-10">6-10 locations</option>
            <option value="11-25">11-25 locations</option>
            <option value="25+">25+ locations</option>
          </select>
        </div>
        <div>
          <label for="store-format" class="block text-sm font-medium text-gray-700 mb-1">
            Store Format <span class="text-red-500">*</span>
          </label>
          <select
            id="store-format"
            name="store-format"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select format</option>
            <option value="Street-level / High street">Street-level / High street</option>
            <option value="Shopping mall">Shopping mall / Lifestyle center</option>
            <option value="Strip center">Strip center / Power center</option>
            <option value="Outlet center">Outlet center</option>
            <option value="Standalone">Standalone building</option>
            <option value="Mixed-use">Mixed-use development</option>
            <option value="Not sure yet">Not sure yet</option>
          </select>
        </div>
        <div>
          <label for="us-presence" class="block text-sm font-medium text-gray-700 mb-1">
            Current US Presence <span class="text-red-500">*</span>
          </label>
          <select
            id="us-presence"
            name="us-presence"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
          >
            <option value="">Select option</option>
            <option value="No US presence">No US presence (first entry)</option>
            <option value="E-commerce only">E-commerce only, adding physical retail</option>
            <option value="Wholesale only">Wholesale/wholesale partners only</option>
            <option value="Existing stores">Have existing US stores, expanding</option>
          </select>
        </div>
        <div>
          <label for="target-markets" class="block text-sm font-medium text-gray-700 mb-1">
            Target Markets <span class="text-gray-400">(optional)</span>
          </label>
          <input
            type="text"
            id="target-markets"
            name="target-markets"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors"
            placeholder="e.g., New York, Los Angeles, Miami"
          />
        </div>
      </div>

      <!-- Timeline (all types) -->
      <div>
        <label for="timeline" class="block text-sm font-medium text-gray-700 mb-1">
          Target Timeline <span class="text-red-500">*</span>
        </label>
        <select
          id="timeline"
          name="timeline"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors bg-white"
        >
          <option value="">When do you need to be operational?</option>
          <option value="0-6 months">0-6 months</option>
          <option value="6-12 months">6-12 months</option>
          <option value="1-2 years">1-2 years</option>
          <option value="2+ years">2+ years</option>
          <option value="Just exploring">Just exploring options</option>
        </select>
      </div>

      <!-- Project Description -->
      <div>
        <label for="project" class="block text-sm font-medium text-gray-700 mb-1">
          Anything else we should know? <span class="text-gray-400">(optional)</span>
        </label>
        <textarea
          id="project"
          name="project"
          rows="3"
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-navy-500 focus:border-navy-500 transition-colors resize-none"
          placeholder="Target regions, special requirements, key priorities..."
        ></textarea>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="w-full bg-accent-500 text-white px-6 py-4 rounded-lg font-semibold hover:bg-accent-600 transition-colors text-lg"
      >
        Get Your <span id="submit-checklist-type">Manufacturing</span> Checklist
      </button>

      <p class="text-xs text-gray-500 text-center">
        We'll send your customized checklist and follow up to discuss your project. No spam, ever.
      </p>
    </form>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const step1 = document.getElementById('step-1');
    const step2 = document.getElementById('step-2');
    const backBtn = document.getElementById('back-btn');
    const projectTypeButtons = document.querySelectorAll('.project-type-btn');
    const projectTypeInput = document.getElementById('project-type-input');
    const projectTypeLabel = document.getElementById('project-type-label');
    const submitChecklistType = document.getElementById('submit-checklist-type');
    const projectFields = document.querySelectorAll('.project-fields');

    const projectLabels = {
      'manufacturing': 'Manufacturing',
      'distribution': 'Distribution',
      'headquarters': 'Headquarters / Back Office',
      'retail': 'Retail'
    };

    // Handle project type selection
    projectTypeButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const projectType = btn.dataset.projectType;

        // Update hidden input
        projectTypeInput.value = projectType;

        // Update labels
        projectTypeLabel.textContent = projectLabels[projectType];
        submitChecklistType.textContent = projectLabels[projectType];

        // Show/hide project-specific fields
        projectFields.forEach(field => field.classList.add('hidden'));
        const targetFields = document.getElementById(`${projectType}-fields`);
        if (targetFields) {
          targetFields.classList.remove('hidden');
          // Make fields required when visible
          targetFields.querySelectorAll('select').forEach(select => {
            if (!select.name.includes('capital-investment')) {
              select.required = true;
            }
          });
        }

        // Hide other fields' required attribute
        projectFields.forEach(field => {
          if (field.id !== `${projectType}-fields`) {
            field.querySelectorAll('select, input').forEach(input => {
              input.required = false;
            });
          }
        });

        // Switch to step 2
        step1.classList.add('hidden');
        step2.classList.remove('hidden');
      });
    });

    // Handle back button
    backBtn.addEventListener('click', () => {
      step2.classList.add('hidden');
      step1.classList.remove('hidden');
    });
  });
</script>
